<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HP02 Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6 bg-slate-100">

<h1 class="text-2xl font-bold mb-6">HP02 Dashboard</h1>
<div id="list" class="grid gap-4"></div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxc76n6YKLUCCHZZR12c5K4_0k40gHa2ZzDMVZn29BElQlSO3X6O8B7dFIFi0bEukqJ/exec";
const PROJECT_CODE = "HP02";
const token = localStorage.getItem("HP_TOKEN");

const cb = "cb_" + Date.now();
window[cb] = (rows)=>{
  const el = document.getElementById("list");
  rows.forEach(r=>{
    const d = document.createElement("div");
    d.className="bg-white p-4 rounded-xl cursor-pointer";
    d.innerHTML = `<b>${r.id}</b> | ${r.plot} | ${r.price}`;
    d.onclick=()=>location.href=`details.html?hpId=${r.id}`;
    el.appendChild(d);
  });
};

const s = document.createElement("script");
s.src = `${API_URL}?mode=getUnitList&project=${PROJECT_CODE}&callback=${cb}`;
document.body.appendChild(s);
</script>
</body>
</html>

